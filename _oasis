Name: timeout
Version: 1.0
Synopsis: A tool for running programs with time & memory limits.
Authors: Jack Feser <jack.feser@gmail.com>
License: Apache-2.0
LicenseFile: LICENSE
Homepage: https://github.com/jfeser/timeout

OCamlVersion: >= 4.01
OASISFormat: 0.4
BuildTools: ocamlbuild
AlphaFeatures: ocamlbuild_more_args
XOCamlbuildPluginTags: package(ppx_driver.ocamlbuild)
Plugins: META (0.4), DevFiles (0.4)

Library timeout_lib
  FindlibName: timeout
  Path: src
  BuildDepends:
    core,
    core_extended
  Modules: Limited_process, Process_info

Library timeout_lib_osx
  Build$: system(macosx)
  Path: src
  BuildDepends:
    timeout,
    core,
    ctypes,
    ctypes.foreign
  FindlibParent: timeout_lib
  FindlibName: osx
  Modules: Process_info_osx

Library timeout_lib_linux
  Build$: system(linux)
  Path: src
  BuildDepends:
    timeout,
    core,
    core_extended
  FindlibParent: timeout_lib
  FindlibName: linux
  Modules: Process_info_linux

Executable timeout_osx
  Build$: system(macosx)
  Path: src
  MainIs: timeout_osx.ml
  CompiledObject: best
  BuildDepends:
    core,
    yojson,
    timeout.osx
  CCLib: -lproc
  ByteOpt: -thread
  NativeOpt: -thread

Executable timeout_linux
  Build$: system(linux)
  Path: src
  MainIs: timeout_linux.ml
  CompiledObject: best
  BuildDepends:
    core,
    yojson,
    timeout.linux
  ByteOpt: -thread
  NativeOpt: -thread
